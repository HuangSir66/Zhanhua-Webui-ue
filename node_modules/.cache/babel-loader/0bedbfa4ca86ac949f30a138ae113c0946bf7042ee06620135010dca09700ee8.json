{"ast":null,"code":"import QRCode from \"qrcode\";\nlet inputElement = null;\nexport default {\n  data() {\n    return {\n      images: [{\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/background.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/background.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }, {\n        src: require(\"@/assets/show.jpg\")\n      }],\n      url: \"https://space.bilibili.com/452543325/upload/video\",\n      // 输入框的URL\n      qrCode: \"\",\n      // 二维码图片的URL\n      scrollSpeed: 0.2 // 滚动速度\n    };\n  },\n  methods: {\n    generateQRCode() {\n      QRCode.toDataURL(this.url).then(async qr => {\n        this.qrCode = qr;\n      }).catch(error => {\n        console.error(\"生成二维码出错：\", error);\n      });\n    },\n    // 实现平滑滚动\n    smoothScroll() {\n      const scrollContainer = this.$refs.scrollContainer;\n      let scrollPosition = 0;\n      const scroll = () => {\n        scrollPosition -= this.scrollSpeed;\n        if (scrollPosition <= -scrollContainer.offsetWidth / 2) {\n          scrollPosition = 0; // 重置滚动\n        }\n        scrollContainer.style.transform = `translateX(${scrollPosition}px)`;\n        requestAnimationFrame(scroll); // 使用 requestAnimationFrame 实现平滑的滚动\n      };\n      requestAnimationFrame(scroll); // 启动滚动\n    }\n  },\n  mounted() {\n    this.smoothScroll(); // 页面加载时开始滚动\n  },\n  beforeDestroy() {\n    if (inputElement) {\n      if (window.addEventListener) {\n        inputElement.removeEventListener('change', this.onGetLocalFile, false);\n      } else {\n        inputElement.detachEvent('onchange', this.onGetLocalFile);\n      }\n      document.body.removeChild(inputElement);\n      inputElement = null;\n      console.log('========inputelement destroy');\n    }\n  }\n};","map":{"version":3,"names":["QRCode","inputElement","data","images","src","require","url","qrCode","scrollSpeed","methods","generateQRCode","toDataURL","then","qr","catch","error","console","smoothScroll","scrollContainer","$refs","scrollPosition","scroll","offsetWidth","style","transform","requestAnimationFrame","mounted","beforeDestroy","window","addEventListener","removeEventListener","onGetLocalFile","detachEvent","document","body","removeChild","log"],"sources":["src/views/HomeView.vue"],"sourcesContent":["<template>\n  <div class=\"clothing\" id=\"clothing-v\">\n    <div class=\"overlay\" v-if=\"qrCode\"></div>\n    <div v-if=\"qrCode\" class=\"win-erweima\">\n      <img :src=\"qrCode\" style=\"width: 500px;height: 500px;border: 1px #CCCCCC solid;\" alt=\"QR Code\" />\n    </div>\n    <div class=\"win-up\" style=\"z-index: 1\">\n      <div class=\"win-show\">\n        <img class=\"win-photo\" src=\"@/assets/show.jpg\">\n      </div>\n      <div class=\"all-button\">\n        <img class=\"win-button\" src=\"@/assets/shangchuan.png\">\n        <img class=\"win-button\" src=\"@/assets/build.png\">\n        <img class=\"win-button\" src=\"@/assets/erweima.png\" @click=\"generateQRCode\">\n      </div>\n    </div>\n    <div class=\"win-down\">\n      <div class=\"gundong\">\n        <div class=\"topgun\">\n          <div class=\"scroll-container\" ref=\"scrollContainer\">\n            <!-- 图片列表 -->\n            <div class=\"smallbox\" v-for=\"(item, index) in images\" :key=\"index\">\n              <img :src=\"item.src\" class=\"slide-image\" />\n            </div>\n            <!-- 复制图片以实现无限滚动 -->\n            <div class=\"smallbox\" v-for=\"(item, index) in images\" :key=\"index + images.length\">\n              <img :src=\"item.src\" class=\"slide-image\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport QRCode from \"qrcode\";\n\nlet inputElement = null;\nexport default {\n  data() {\n    return {\n      images: [\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/background.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/background.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n        { src: require(\"@/assets/show.jpg\") },\n      ],\n      url: \"https://space.bilibili.com/452543325/upload/video\", // 输入框的URL\n      qrCode: \"\", // 二维码图片的URL\n      scrollSpeed: 0.2, // 滚动速度\n    };\n  },\n  methods: {\n    generateQRCode() {\n      QRCode.toDataURL(this.url)\n          .then(async (qr) => {\n            this.qrCode = qr;\n          })\n          .catch((error) => {\n            console.error(\"生成二维码出错：\", error);\n          });\n    },\n    // 实现平滑滚动\n    smoothScroll() {\n      const scrollContainer = this.$refs.scrollContainer;\n      let scrollPosition = 0;\n\n      const scroll = () => {\n        scrollPosition -= this.scrollSpeed;\n        if (scrollPosition <= -scrollContainer.offsetWidth / 2) {\n          scrollPosition = 0; // 重置滚动\n        }\n        scrollContainer.style.transform = `translateX(${scrollPosition}px)`;\n        requestAnimationFrame(scroll); // 使用 requestAnimationFrame 实现平滑的滚动\n      };\n\n      requestAnimationFrame(scroll); // 启动滚动\n    },\n  },\n  mounted() {\n    this.smoothScroll(); // 页面加载时开始滚动\n  },\n  beforeDestroy() {\n    if (inputElement) {\n      if (window.addEventListener) {\n        inputElement.removeEventListener('change', this.onGetLocalFile, false)\n      } else {\n        inputElement.detachEvent('onchange', this.onGetLocalFile)\n      }\n      document.body.removeChild(inputElement)\n      inputElement = null\n      console.log('========inputelement destroy')\n    }\n  }\n};\n</script>\n\n<style scoped>\n.clothing {\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n\n#clothing-v {\n  background: url(\"@/assets/background.jpg\");\n  width: 100%;\n  height: 100%;\n  background-size: 100% 100%;\n}\n\n.win-up {\n  width: 100%;\n  height: 55%;\n  margin-top: 9%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.win-down {\n  margin-top: 1.5%;\n  margin-left: 1%;\n  width: 76%;\n  height: 25%;\n  margin-bottom: 0.5%;\n  background-color: white;\n  border-radius: 1vw;\n}\n\n.win-button {\n  width: 200px;\n  height: 80px;\n  cursor: pointer;\n}\n\n.win-show {\n  width: 80%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n}\n\n.all-button {\n  width: 20%;\n  height: 80%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: flex-end;\n}\n\n.win-photo {\n  width: 709px;\n  height: 473px;\n}\n\n.win-erweima {\n  position: absolute;\n  top: 50vh;\n  left: 50%;\n  width: 500px;\n  height: 500px;\n  transform: translate(-50%, -50%);\n  z-index: 9999;\n}\n\n.overlay {\n  position: absolute;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 10;\n}\n\n.gundong {\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.topgun {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  overflow: hidden;\n}\n\n.scroll-container {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  transition: transform 0.1s linear;\n}\n\n.smallbox {\n  width: 28%;\n  height: 100%;\n  display: flex;\n  flex: 0 0 auto;\n}\n\nimg.slide-image {\n  width: 100%;\n  height: 100%;\n}\n\n.scroll-container:hover {\n  cursor: pointer;\n}\n</style>\n"],"mappings":"AAoCA,OAAAA,MAAA;AAEA,IAAAC,YAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA,GACA;QAAAC,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,GACA;QAAAD,GAAA,EAAAC,OAAA;MAAA,EACA;MACAC,GAAA;MAAA;MACAC,MAAA;MAAA;MACAC,WAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAA;MACAV,MAAA,CAAAW,SAAA,MAAAL,GAAA,EACAM,IAAA,OAAAC,EAAA;QACA,KAAAN,MAAA,GAAAM,EAAA;MACA,GACAC,KAAA,CAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,aAAAA,KAAA;MACA;IACA;IACA;IACAE,aAAA;MACA,MAAAC,eAAA,QAAAC,KAAA,CAAAD,eAAA;MACA,IAAAE,cAAA;MAEA,MAAAC,MAAA,GAAAA,CAAA;QACAD,cAAA,SAAAZ,WAAA;QACA,IAAAY,cAAA,KAAAF,eAAA,CAAAI,WAAA;UACAF,cAAA;QACA;QACAF,eAAA,CAAAK,KAAA,CAAAC,SAAA,iBAAAJ,cAAA;QACAK,qBAAA,CAAAJ,MAAA;MACA;MAEAI,qBAAA,CAAAJ,MAAA;IACA;EACA;EACAK,QAAA;IACA,KAAAT,YAAA;EACA;EACAU,cAAA;IACA,IAAA1B,YAAA;MACA,IAAA2B,MAAA,CAAAC,gBAAA;QACA5B,YAAA,CAAA6B,mBAAA,gBAAAC,cAAA;MACA;QACA9B,YAAA,CAAA+B,WAAA,kBAAAD,cAAA;MACA;MACAE,QAAA,CAAAC,IAAA,CAAAC,WAAA,CAAAlC,YAAA;MACAA,YAAA;MACAe,OAAA,CAAAoB,GAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}