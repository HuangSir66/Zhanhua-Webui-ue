{"ast":null,"code":"import \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nexport default {\n  data() {\n    return {\n      videoWidth: 500,\n      videoHeight: 300,\n      number: 0,\n      hours: 0,\n      minutes: 0,\n      seconds: 0,\n      run: false,\n      imgSrc: '',\n      flag: true,\n      thisCancas: null,\n      thisContext: null,\n      thisVideo: null,\n      userInfo: {\n        imgStr: \"\"\n      },\n      videoState: true\n    };\n  },\n  methods: {\n    getCompetence() {\n      this.videoState = false;\n      var _this = this;\n      this.thisCancas = document.getElementById('canvasCamera');\n      this.thisContext = this.thisCancas.getContext('2d');\n      this.thisVideo = document.getElementById('videoCamera');\n\n      // 旧版本浏览器可能根本不支持mediaDevices，我们首先设置一个空对象\n      if (navigator.mediaDevices === undefined) {\n        navigator.mediaDevices = {};\n      }\n      // 一些浏览器实现了部分mediaDevices，我们不能只分配一个对象\n      // 使用getUserMedia，因为它会覆盖现有的属性。\n      // 这里，如果缺少getUserMedia属性，就添加它。\n      if (navigator.mediaDevices.getUserMedia === undefined) {\n        navigator.mediaDevices.getUserMedia = function (constraints) {\n          // 首先获取现存的getUserMedia(如果存在)\n          var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia;\n          // 有些浏览器不支持，会返回错误信息\n          // 保持接口一致\n          console.log('viedo', getUserMedia);\n          if (!getUserMedia) {\n            return Promise.reject(new Error('getUserMedia is not implemented in this browser'));\n          }\n          // 否则，使用Promise将调用包装到旧的navigator.getUserMedia\n          return new Promise(function (resolve, reject) {\n            getUserMedia.call(navigator, constraints, resolve, reject);\n          });\n        };\n      }\n      //使用此方式获取本地音频视频输入输出设备，找到要使用的设备id，方式见下图\n      var enumeratorPromise = navigator.mediaDevices.enumerateDevices();\n      console.log(enumeratorPromise);\n      //把上面获取到的设备deviceId填入下面video的deviceId中，就可以选择要调用的摄像头了\n      var constraints = {\n        audio: false,\n        video: {\n          deviceId: 'becf7e45fe56e42bcb4ec3f78b1b6b0fcffd6c6ccd890d30fffc2430a92c99bb',\n          width: this.videoWidth,\n          height: this.videoHeight\n        }\n      };\n      navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\n        // 旧的浏览器可能没有srcObject\n        if ('srcObject' in _this.thisVideo) {\n          _this.thisVideo.srcObject = stream;\n        } else {\n          // 避免在新的浏览器中使用它，因为它正在被弃用。\n          _this.thisVideo.src = window.URL.createObjectURL(stream);\n        }\n        _this.thisVideo.onloadedmetadata = function (e) {\n          if (_this.flag == true) {\n            _this.thisVideo.play();\n            _this.flag = false;\n          } else {\n            _this.thisVideo.pause();\n            _this.flag = true;\n          }\n        };\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  }\n};","map":{"version":3,"names":["data","videoWidth","videoHeight","number","hours","minutes","seconds","run","imgSrc","flag","thisCancas","thisContext","thisVideo","userInfo","imgStr","videoState","methods","getCompetence","_this","document","getElementById","getContext","navigator","mediaDevices","undefined","getUserMedia","constraints","webkitGetUserMedia","mozGetUserMedia","console","log","Promise","reject","Error","resolve","call","enumeratorPromise","enumerateDevices","audio","video","deviceId","width","height","then","stream","srcObject","src","window","URL","createObjectURL","onloadedmetadata","e","play","pause","catch","err"],"sources":["src/views/lunbotu.vue"],"sourcesContent":["<template>\r\n  <div class=\"slider\">\r\n    <img src=\"@/assets/show.jpg\" alt=\"Image 1\">\r\n    <img src=\"@/assets/show.jpg\" alt=\"Image 2\">\r\n    <img src=\"@/assets/show.jpg\" alt=\"Image 3\">\r\n    <!-- 更多图片 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data () {\r\n      return {\r\n        videoWidth: 500,\r\n        videoHeight: 300,\r\n        number:0,\r\n        hours: 0,\r\n        minutes: 0,\r\n        seconds: 0,\r\n        run:false,\r\n        imgSrc: '',\r\n        flag:true,\r\n        thisCancas: null,\r\n        thisContext: null,\r\n        thisVideo: null,\r\n        userInfo: {\r\n          imgStr:\"\"\r\n        },\r\n        videoState: true\r\n      }\r\n    },\r\n    methods:{\r\n       getCompetence () {\r\n        this.videoState = false\r\n        var _this = this\r\n        this.thisCancas = document.getElementById('canvasCamera')\r\n        this.thisContext = this.thisCancas.getContext('2d')\r\n        this.thisVideo = document.getElementById('videoCamera')\r\n\r\n        // 旧版本浏览器可能根本不支持mediaDevices，我们首先设置一个空对象\r\n        if (navigator.mediaDevices === undefined) {\r\n          navigator.mediaDevices = {}\r\n        }\r\n        // 一些浏览器实现了部分mediaDevices，我们不能只分配一个对象\r\n        // 使用getUserMedia，因为它会覆盖现有的属性。\r\n        // 这里，如果缺少getUserMedia属性，就添加它。\r\n        if (navigator.mediaDevices.getUserMedia === undefined) {\r\n          navigator.mediaDevices.getUserMedia = function (constraints) {\r\n            // 首先获取现存的getUserMedia(如果存在)\r\n            var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.getUserMedia\r\n            // 有些浏览器不支持，会返回错误信息\r\n            // 保持接口一致\r\n            console.log('viedo',getUserMedia);\r\n            if (!getUserMedia) {\r\n              return Promise.reject(new Error('getUserMedia is not implemented in this browser'))\r\n            }\r\n            // 否则，使用Promise将调用包装到旧的navigator.getUserMedia\r\n            return new Promise(function (resolve, reject) {\r\n              getUserMedia.call(navigator, constraints, resolve, reject)\r\n            })\r\n          }\r\n        }\r\n        //使用此方式获取本地音频视频输入输出设备，找到要使用的设备id，方式见下图\r\n        var enumeratorPromise = navigator.mediaDevices.enumerateDevices()\r\n        console.log(enumeratorPromise)\r\n        //把上面获取到的设备deviceId填入下面video的deviceId中，就可以选择要调用的摄像头了\r\n        var constraints = { audio: false, video: { deviceId: 'becf7e45fe56e42bcb4ec3f78b1b6b0fcffd6c6ccd890d30fffc2430a92c99bb', width: this.videoWidth, height: this.videoHeight } }\r\n        navigator.mediaDevices.getUserMedia(constraints).then(function (stream) {\r\n          // 旧的浏览器可能没有srcObject\r\n          if ('srcObject' in _this.thisVideo) {\r\n            _this.thisVideo.srcObject = stream\r\n          } else {\r\n            // 避免在新的浏览器中使用它，因为它正在被弃用。\r\n            _this.thisVideo.src = window.URL.createObjectURL(stream)\r\n          }\r\n          _this.thisVideo.onloadedmetadata = function (e) {\r\n\r\n            if (_this.flag==true){\r\n              _this.thisVideo.play();\r\n              _this.flag=false;\r\n            }\r\n            else {\r\n              _this.thisVideo.pause()\r\n              _this.flag=true;\r\n            }\r\n\r\n          }\r\n        }).catch(err => {\r\n          console.log(err)\r\n        })\r\n      },\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.slider {\r\n  overflow: hidden;\r\n  position: relative;\r\n  width: 300px; /* 设置为图片的宽度 */\r\n  height: 200px; /* 设置为图片的高度 */\r\n}\r\n\r\n.slider img {\r\n  position: absolute;\r\n  width: 100%; /* 图片宽度需要与.slider的宽度一致 */\r\n  height: 100%; /* 图片高度需要与.slider的高度一致 */\r\n  animation: slide 10s infinite; /* 设置动画名称和时长 */\r\n  opacity: 0; /* 初始透明度为0 */\r\n}\r\n\r\n.slider img:nth-child(1) {\r\n  animation-delay: 0s; /* 第一张图延迟0秒开始 */\r\n}\r\n\r\n.slider img:nth-child(2) {\r\n  animation-delay: 2s; /* 第二张图延迟2秒开始 */\r\n}\r\n\r\n.slider img:nth-child(3) {\r\n  animation-delay: 4s; /* 第三张图延迟4秒开始 */\r\n}\r\n/* 更多图片可以依此类推设置animation-delay */\r\n\r\n@keyframes slide {\r\n  0% {\r\n    opacity: 0; /* 开始状态透明度为0 */\r\n  }\r\n\r\n  5% {\r\n    opacity: 1; /* 开始时透明度渐变到1 */\r\n  }\r\n\r\n  15% {\r\n    opacity: 1; /* 图片保持可见 */\r\n  }\r\n\r\n  25% {\r\n    opacity: 0; /* 结束时透明度渐变到0 */\r\n  }\r\n\r\n  100% {\r\n    opacity: 0; /* 最终状态透明度为0 */\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;AAUA;EACAA,KAAA;IACA;MACAC,UAAA;MACAC,WAAA;MACAC,MAAA;MACAC,KAAA;MACAC,OAAA;MACAC,OAAA;MACAC,GAAA;MACAC,MAAA;MACAC,IAAA;MACAC,UAAA;MACAC,WAAA;MACAC,SAAA;MACAC,QAAA;QACAC,MAAA;MACA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MACA,KAAAF,UAAA;MACA,IAAAG,KAAA;MACA,KAAAR,UAAA,GAAAS,QAAA,CAAAC,cAAA;MACA,KAAAT,WAAA,QAAAD,UAAA,CAAAW,UAAA;MACA,KAAAT,SAAA,GAAAO,QAAA,CAAAC,cAAA;;MAEA;MACA,IAAAE,SAAA,CAAAC,YAAA,KAAAC,SAAA;QACAF,SAAA,CAAAC,YAAA;MACA;MACA;MACA;MACA;MACA,IAAAD,SAAA,CAAAC,YAAA,CAAAE,YAAA,KAAAD,SAAA;QACAF,SAAA,CAAAC,YAAA,CAAAE,YAAA,aAAAC,WAAA;UACA;UACA,IAAAD,YAAA,GAAAH,SAAA,CAAAK,kBAAA,IAAAL,SAAA,CAAAM,eAAA,IAAAN,SAAA,CAAAG,YAAA;UACA;UACA;UACAI,OAAA,CAAAC,GAAA,UAAAL,YAAA;UACA,KAAAA,YAAA;YACA,OAAAM,OAAA,CAAAC,MAAA,KAAAC,KAAA;UACA;UACA;UACA,WAAAF,OAAA,WAAAG,OAAA,EAAAF,MAAA;YACAP,YAAA,CAAAU,IAAA,CAAAb,SAAA,EAAAI,WAAA,EAAAQ,OAAA,EAAAF,MAAA;UACA;QACA;MACA;MACA;MACA,IAAAI,iBAAA,GAAAd,SAAA,CAAAC,YAAA,CAAAc,gBAAA;MACAR,OAAA,CAAAC,GAAA,CAAAM,iBAAA;MACA;MACA,IAAAV,WAAA;QAAAY,KAAA;QAAAC,KAAA;UAAAC,QAAA;UAAAC,KAAA,OAAAxC,UAAA;UAAAyC,MAAA,OAAAxC;QAAA;MAAA;MACAoB,SAAA,CAAAC,YAAA,CAAAE,YAAA,CAAAC,WAAA,EAAAiB,IAAA,WAAAC,MAAA;QACA;QACA,mBAAA1B,KAAA,CAAAN,SAAA;UACAM,KAAA,CAAAN,SAAA,CAAAiC,SAAA,GAAAD,MAAA;QACA;UACA;UACA1B,KAAA,CAAAN,SAAA,CAAAkC,GAAA,GAAAC,MAAA,CAAAC,GAAA,CAAAC,eAAA,CAAAL,MAAA;QACA;QACA1B,KAAA,CAAAN,SAAA,CAAAsC,gBAAA,aAAAC,CAAA;UAEA,IAAAjC,KAAA,CAAAT,IAAA;YACAS,KAAA,CAAAN,SAAA,CAAAwC,IAAA;YACAlC,KAAA,CAAAT,IAAA;UACA,OACA;YACAS,KAAA,CAAAN,SAAA,CAAAyC,KAAA;YACAnC,KAAA,CAAAT,IAAA;UACA;QAEA;MACA,GAAA6C,KAAA,CAAAC,GAAA;QACA1B,OAAA,CAAAC,GAAA,CAAAyB,GAAA;MACA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}